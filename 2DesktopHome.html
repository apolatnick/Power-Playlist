<!--//Sara Cassella made this -->
<!--Home screen for Host on Desktop View -->

<DOCTYPE html>
<title>
</title>
<head>
	<meta charset="utf-8">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="js/requestSong.js"></script>
	<script src="jq/jquery-sortable-master/source/js/jquery-sortable.js"></script>
	<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<!--script for the autocomplete search bar -->
<!--	<script>
	$( function() {
		var availableSongs = [
			"Hello",
			"Don't Gotta Work It Out",
			"The Good Life",
			"It's A Man's World",
			"Smooth"
		];
		$( "#tags" ).autocomplete({
			source: availableSongs
		});
	} );
</script>-->
<!--Script for adjusting CSS for Screen Viewing Size-->
<script>
$(window).on('resize', function() {
    if($(window).width() < 480) {
        $('#playlistColumn').addClass('playPhone');
        $('#playlistColumn').removeClass('playDesk');
				$('#suggestedSongColumn').addClass('suggPhone');
				$('#suggestedSongColumn').removeClass('suggDesk');
				$('#upNext').addClass('upNextTitle');
				$('#find').addClass('smallSearch');
				$('#find').removeClass('search');
				$('#labelForSearch').removeClass('labelDesk');
				$('#labelForSearch').addClass('labelPhone');
				$('#searchbar').removeClass('searchBarDesk');
				$('#searchbar').addClass('searchBarPhone');
				$('#title').removeClass('deskTitle');
				$('#title').addClass('phoneTitle');
				$('#welcome').removeClass('deskWelcome');
				$('#welcome').addClass('phoneWelcome');
				$('#invite').removeClass('deskInvite');
				$('#invite').addClass('phoneInvite');
				$('#pinNum').removeClass('deskPinNum');
				$('#pinNum').addClass('phonePinNum');
    }else{
        $('#playlistColumn').addClass('playDesk');
        $('#playlistColumn').removeClass('playPhone');
				$('#suggestedSongColumn').addClass('suggDesk');
				$('#suggestedSongColumn').removeClass('suggPhone');
				$('#upNext').removeClass('upNextTitle');
				$('#find').removeClass('smallSearch');
				$('#find').addClass('search');
				$('#labelForSearch').addClass('labelDesk');
				$('#labelForSearch').removeClass('labelPhone');
				$('#searchbar').addClass('searchBarDesk');
				$('#searchbar').removeClass('searchBarPhone');
				$('#title').addClass('deskTitle');
				$('#title').removeClass('phoneTitle');
				$('#welcome').addClass('deskWelcome');
				$('#welcome').removeClass('phoneWelcome');
				$('#invite').addClass('deskInvite');
				$('#invite').removeClass('phoneInvite');
				$('#pinNum').addClass('deskPinNum');
				$('#pinNum').removeClass('phonePinNum');
    }
})
</script>
<!--script for the striping of the list and the drag and drop -->
	<script>
	$(function  () {
	  $("ol.example").sortable();
	});
	</script>
	<script>
	function addSong() {
		$("#empty").remove();
		$("#emptyalso").remove();
		var example = document.querySelector(".example");
		example.appendChild(document.createElement('li')).textContent='new Song';
		$("li:even").css("background-color", "#333333");
	}
	</script>
	<script>
		function upVote() {

		}
	</script>
	<script>
		function downVote() {

		}
	</script>
	<link rel="stylesheet" type="text/css" href="css/DesktopHome.css"></link>
</head>


<body>
	<div id="header">
		<img src="images/thickHand.png" id="logo"></img>
	 <h1 id="title" class="deskTitle">PowerPlaylist<div id="welcome" class="deskWelcome">Welcome Admin</div><div id="invite" class="deskInvite">Invite others with this PIN number: <div id="pinNum" class="deskPinNum">1234</div></div></h1>
 </div>
<div id="searchbar" class="searchBarDesk">
	<label for="find"  id="labelForSearch" class="labelDesk">Search</label>
	<!-- <input id="tags" class="search" type="text" name="search" placeholder="Search for a song.."> -->
		<input id="find" class="search" type="text" name="search" placeholder="Search for a song..">
</div>
<div id="dropdown">
</div>
<div id="playlistColumn" class="playDesk">
	<h2 id="upNext">Up Next</h2>
	<p id="empty" style="text-align: center;">Your playlist is currently empty.</p>
		<div id="songList">
			<ol class='example' id="playlist">
					<li data-ogg="music/Fitz.mp3">Don't Gotta Work it Out<img src="images/upVote.png" class="upVote"><img src="images/downVote.png" class="downvote"><p class="counter">0</p><br /><p class="artist">Artist Here</p></li>
					<li data-ogg="music/Adele.mp3">Hello<img src="images/upVote.png" class="upVote"><img src="images/downVote.png" class="downvote"><p class="counter">0</p><br /><p class="artist">Artist Here</p></li>
					<li data-ogg="music/Santana.mp3">Smooth<img src="images/upVote.png" class="upVote"><img src="images/downVote.png" class="downvote"><p class="counter">0</p><br /><p class="artist">Artist Here</p></li>
			</ol>
		</div>
</div>
<div id="suggestedSongColumn" class="suggDesk" display="inline-block" style="overflow: auto;">
	<h2 style="color: white; margin-top: none; display: block; font-size: 1.5em; text-align: left; margin-bottom: 0;">Suggested by Guests</h2>
	<p style="color: grey; margin-top: 6px; font-size: 1em;">Waiting for host's approval</p>
	<hr style="background-color: grey;"/>
	<p id="emptyalso" style="color: white; text-align: center;">No songs suggested by guests.</p>
	<div id="songList2" style="width: 100%; margin-top: 0px; position: relative;">
		<ol class="example">
			<li>Suggested Song 1<br /><p class="artist">Artist Here</p></li>
			<li>Suggested Song 2<br /><p class="artist">Artist Here</p></li>
			<li>Suggested Song 3<br /><p class="artist">Artist Here</p></li>
		</ol>
	</div>
</div>
</body>

<!-- <audio controls style="bottom: 130px; width: 100%; position: fixed;">
  <source src="horse.ogg" type="audio/ogg">
  <source src="horse.mp3" type="audio/mpeg">
</audio> -->

<audio id="player"></audio>

<div id="playbar" class="hostPlaybar">
<button class="playbutton" id="previous">Previous Song</button>
<button class="playbutton" id="stop">Stop</button>
<button class="playbutton" id="next">Next Song</button>
<button class="playbutton" id="playSong">Play</button>
<div id="songStatus" style="width: 600px; height: 10px; background-color: pink; display: inline-block"><div id="hp_range"</div></div>
<button type="button" id="button" onclick="addSong()" style="color: black; width: 150px; clear: both;">Add Song</button>
<p id="time" style="color: white; font-size: 1em; display: inline-block;">Current Time in song is: </p>
<!-- <div class="hp_slide" style="display: inline-block">
     <div class="hp_range"></div> -->
</div>
</div>

<script type="text/javascript">
// globals
var _player = document.getElementById("player"),
	_playlist = document.getElementById("playlist"),
	_stop = document.getElementById("stop");
	_nextSong = document.getElementById("next");
	_previous = document.getElementById("previous");

// functions
function playlistItemClick(clickedElement) {
	var selected = _playlist.querySelector(".selected");
	if (selected) {
			selected.classList.remove("selected");
	}
	clickedElement.classList.add("selected");

	_player.src = clickedElement.getAttribute("data-ogg");
	_player.play();
}

function playNext() {
	var selected = _playlist.querySelector("li.selected");
	if (selected && selected.nextElementSibling) {
			playlistItemClick(selected.nextElementSibling);
	}
}

function playPrevious() {
	var selected = _playlist.querySelector("li.selected");
	if (selected && selected.previousElementSibling) {
		playlistItemClick(selected.previousElementSibling);
	}
}
// event listeners
_stop.addEventListener("click", function () {
	_player.pause();
});

_nextSong.addEventListener("click", playNext);

_previous.addEventListener("click", playPrevious);

$("#next").click(playNext());

$("#previous").click(playPrevious());

_player.addEventListener("ended", playNext);

_playlist.addEventListener("click", function (e) {
	if (e.target && e.target.nodeName === "LI") {
			playlistItemClick(e.target);
	}
});

// $().click(fuction)

$("#player").bind("timeupdate", function() {
    var currentTime = $("#player").currentTime;
    var duration = $("#player").duration;
		$("#time").innerHtml += currentTime;
    $('.hp_range').stop(true,true).animate({'width':(currentTime +.25)/duration*100+'%'},250,'linear');
});
</script>





<div id="navigation">
	<ul>
	  <!-- <li class="navlink borderLeft"><img src="images/HomeIconWhite-02.png" style="width: 40px; padding-top: 10px;"><a href="2DesktopHome.html" class="active" style="padding-top: 14px;">Home</a></li> -->
	  <li class="navlink borderLeft"><img src="images/MusicProvidersGrey-02.png" style="width: 60px; padding-top: 10px;"><a href="MusicProviders.html" style="padding-top: 14px;">Music Providers</a></li>
	  <!-- <li class="navlink borderLeft"><img src="images/PlaylistsIconGrey-02.png" style="width: 40px; padding-top: 10px;"><a href="" style="padding-top: 14px;">Playlists</a></li> -->
		<li class="navlink borderLeft"><img src="images/ShareIconGrey-02.png" style="width: 40px; padding-top: 8px;"><a href="" style="padding-top: 11px;">Share Pin</a></li>
	  <li class="navlink"><img src="images/SettingsIconGrey-02.png" style="width: 40px; padding-top: 10px;"><a href="" style="padding-top: 11px;">End Party</a></li>
	</ul>
</div>
<!-- <div id="footer">
 <p id="copyright" class="copyrightDesk">Copyright 2017 Sara Cassella / Alexander Polatnick / Kristen Ronhovde</p>
</div> -->
</html>
